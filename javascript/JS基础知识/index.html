<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // indexOf  快速查找一个元素在数组中的第一个下标 没有找到返回-1
    let indexOfArray = [1, 2, 3, 4, 5, 6];
    if (Array.prototype.indexOf) {
      // 判断浏览器是否支持indexOf
      indexOfArray.indexOf(3); // 2
      indexOfArray.indexOf(3, 4); // 第二参数为可选参数，为从哪个下标开始查找 这里返回-1
    }

    // 扩展
    // str.indexOf 字符串方法
    // 效果如上
    //--------------------------------------------------------------------------------
    //添加元素（末尾添加） 不改变原数组
    console.log("题目：添加元素（末尾添加） 不改变原数组");
    let arr = [1];
    let ijj = arr;
    ijj.push(2); // 这样的方式会改变arr数组，因为数组是引用类型  错误方式

    // 正确方式
    // 1.for 循环拷贝到新数组变量+push
    let arrOne = [1];
    let setArr = [];
    for (let item of arrOne) {
      setArr.push(item);
    }
    setArr.push(2);
    console.log("-------------第一种方式");
    console.log(arrOne);
    console.log(setArr);

    //2.使用concat合并一个数组或者非数组
    function concatArr(arr, getArr) {
      return arr.concat(getArr);
    }
    console.log("-------------第二种方式");
    console.log(concatArr([1], 2));
    //3.使用slice浅拷贝+push
    console.log("-------------第三种方式");
    let arr3 = [2];
    let newArr3 = arr3.slice(0);
    newArr3.push(3);
    console.log(newArr3);
    //4.使用...扩展运算符
    let arr4 = [1, 2, 3];
    let Newarr4 = [...arr4, 4];
    console.log("-------------第四种方式");
    console.log(Newarr4);

    //--------------------------------------------------------------------------------
    //操作原数组移除数组中的元素(返回元素组)
    console.log("题目：操作原数组移除数组中的元素(返回元素组)");
    //1.循环操作元素组+splice删除下标元素

    let arrsplice = [1, 2, 3, 3, 3, 3];
    for (let i = 0; i < arrsplice.length; i++) {
      if (arrsplice[i] == 3) {
        arrsplice.splice(i, 1);
        i--;
      }
    }
    console.log("-------------第一种方式");
    console.log(arrsplice);
    let arrsplice2 = [1, 2, 3, 3, 3, 3];
    for (let i = arrsplice2.length; i >= 0; i--) {
      if (arrsplice2[i] == 3) {
        arrsplice2.splice(i, 1);
        i++;
      }
    }
    console.log("-------------第二种方式");
    console.log(arrsplice2);
    //--------------------------------------------------------------------------------
    //移除数组中的元素(返回新的数组)
    console.log("题目：移除数组中的元素(返回新的数组)");
    //1.for判断
    console.log("-------------第一种方式");
    let newArrSpliceList = [1, 2, 3, 3, 3, 4];
    function newArrSplice(list, num) {
      let newArr = [];
      for (let i = 0; i < list.length; i++) {
        if (list[i] !== num) {
          newArr.push(list[i]);
        }
      }
      return newArr;
    }
    console.log(newArrSplice(newArrSpliceList, 3));
    // 2.filter过滤
    console.log("-------------第二种方式");
    let newFilterArrList = newArrSpliceList.filter((item) => item !== 3);
    console.log(newFilterArrList);
    // 3.forEach for of 效率高于for
    // 4.拷贝后再循环  slice(0) 浅拷贝等等
    //--------------------------------------------------------------------------------
    //数组求和
    console.log("题目：数组求和");
    // 1.使用循环来相加
    console.log("-------------第一种方式");
    let addArr = [1, 2, 3];
    function addArrNum(list) {
      let total = 0;
      addArr.forEach((item, index) => {
        total = total + item;
      });
      return total;
    }
    console.log(addArrNum(addArr));
    // 2.reduce 累加器
    console.log("-------------第二种方式");
    let totalReduce = addArr.reduce((item, pro) => item + pro);
    console.log(totalReduce);
    // 3.eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码。
    console.log("-------------第三种方式");
    console.log(eval(addArr.join("+")));
    //--------------------------------------------------------------------------------
    //删除数组最后一个元素（返回一个新数组）
    console.log("删除数组最后一个元素（返回一个新数组）");
    // 1.slice
    let arrSlice = [1, 2, 3, 4];
    console.log("-------------第一种方式");

    //2.concat/slice+pop
    //--------------------------------------------------------------------------------
    //添加元素(开头添加) 返回一个新数组
    console.log("添加元素(开头添加) 返回一个新数组");
    // 4种方式
    let arrAddList = [1, 2, 3, 4];
    function arrAddFirst(arr, val) {
      // let newArr = arr.concat(); // 钱拷贝
      // let newArr = arr.slice(0); // 钱拷贝
      // let newArr = JSON.parse(JSON.stringify(arr)); // 钱拷贝
      let newArr = arr.join().split(",");
      newArr.unshift(val);
      return newArr;
    }
    console.log(arrAddFirst(arrAddList, 0));
    //--------------------------------------------------------------------------------
    //删除数组第一位元素 返回一个新数组
    console.log("删除数组第一位元素 返回一个新数组");
    // 可以同上题差不多
    let deteleArr = [1, 2, 3, 4];
    function deteltArrFirst(arr) {
      let newArr = arr.concat();
      newArr.shift();
      return newArr;
    }
    console.log(deteltArrFirst(deteleArr));
    //--------------------------------------------------------------------------------
    //合并数组A和数组B 返回一个新数组
    console.log("合并数组A和数组B 返回一个新数组");
    // 第一种concat
    // 第二种for循环
    // 第三种扩展运算符 [...A,...B]
    console.log([...[1, 2], ...[3, 4]]);
    //--------------------------------------------------------------------------------
    console.log("数组指定位置添加元素，返回新数组");
    // 第一种方式 slice+concat 返回
    function addSetPosition(arr, val, position) {
      let newArr = arr.slice(0, position);
      newArr.push(val);
      let returnARR = newArr.concat(arr.slice(position));
      return returnARR;
    }
    console.log("第一种方式");
    console.log(addSetPosition([1, 2, 4], 3, 2));
    // 第二种方式 splice  位置，位置后几位，参数
    function addSetPositionA(arr, val, position) {
      let newArr = arr.slice(0);
      newArr.splice(position, 0, val);
      return newArr;
    }
    console.log("第二种方式");
    console.log(addSetPositionA([1, 2, 4], 3, 2));
    //--------------------------------------------------------------------------------
    console.log("统计数组种 某个元素出现的次数---计数器");
    console.log("第一种方式");
    // 普通循环 for for of map效率高于filter
    function forArr(arr, val) {
      let num = 0; //计数器3
      for (let item of arr) {
        if (item == val) {
          num++;
        }
      }
      return num;
    }
    console.log(forArr([1, 2, 3, 3, 4, 4], 3));
    console.log("第二种方式");
    //  可以使用filter
    function filterArr(arr, val) {
      let list = arr.filter((item) => item == val);
      return list.length;
    }
    console.log(filterArr([1, 2, 3, 3, 4, 4], 3));
  </script>
</html>
