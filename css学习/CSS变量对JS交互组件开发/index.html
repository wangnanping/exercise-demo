<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>loading实现</title>
</head>
<style>
    .bar {
        height: 20px;
        width: 300px;
        background-color: #ccc;
    }

    .bar::before {
        display: block;
        counter-reset: progress var(--percent);
        content: counter(progress) "%\2002";
        width: calc(1% * var(--percent));
        color: #FFF;
        background-color: aquamarine;
        text-align: right;
        white-space: nowrap;
        overflow: hidden;
    }
</style>

<body>
    <label>进度1:</label>
    <div class="bar" style="--percent:60;"></div>
    <label>进度2:</label>
    <div class="bar" style="--percent:20;"></div>
    <label>进度3:</label>
    <div class="bar" style="--percent:40;"></div>
</body>

<script>
    setInterval(() => {
        document.querySelectorAll(".bar").forEach((item, index) => {
            item.style.cssText = `--percent:${Math.floor(Math.random()*10+1) * 10}`
        })
    }, 2000)

</script>

</html>